<local:MyPageRight
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:PCL" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d" x:Class="PageSetupLink"
    PanScroll="{Binding ElementName=PanBack}">
    <local:MyScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" x:Name="PanBack">
        <StackPanel x:Name="PanMain" Margin="25,10">
            <local:MyCard Margin="0,10,0,0" Title="Natayark ID" x:Name="CardLogged">
                <StackPanel Margin="25,40,25,20" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Name" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <TextBlock x:Name="TextUsername" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" 
                                   Text="已以 玩家 的身份登录至 Natayark Network" />
                        <local:MyButton x:Name="BtnLogout" Grid.Row="0" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                                        Width="100" ColorType="Highlight" Text="退出登录"/>
                        <local:MyButton x:Name="BtnManage" Grid.Row="2" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Normal" Text="账号管理" EventType="打开网页" EventData="https://account.naids.com/dashboard"/>
                        <TextBlock x:Name="TextStatus" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" 
                            Text="账号状态：正常 / 已完成实名验证" />
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="Natayark ID" x:Name="CardNotLogged">
                <StackPanel Margin="25,40,25,20" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Name" />
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="100" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <TextBlock x:Name="TextLogin" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="登录至 Natayark Network 以使用大厅等在线服务" />
                        <local:MyButton x:Name="BtnLogin" Grid.Row="0" Grid.Column="2" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Highlight" Text="登录"/>
                        <local:MyButton x:Name="BtnRegister" Grid.Row="0" Grid.Column="4" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Normal" Text="注册" EventType="打开网页" EventData="https://account.naids.com/register"/>
                        <local:MyButton x:Name="BtnCancel" Grid.Row="0" Grid.Column="4" VerticalAlignment="Stretch" HorizontalAlignment="Right" Width="100" ColorType="Normal" Text="取消登录" Visibility="Collapsed"/>
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="EasyTier">
                <StackPanel Margin="25,40,25,15" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="28" />
                            <RowDefinition Height="8" />
                            <RowDefinition Height="Auto" MinHeight="28"/>
                            <RowDefinition Height="8" />
                            <RowDefinition Height="28" />
                            <RowDefinition Height="8" />
                            <RowDefinition Height="28" />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="自定义节点" Margin="0,0,25,0" />
                        <local:MyTextBox x:Name="TextLinkRelay" Grid.Row="0" Grid.ColumnSpan="2" Tag="LinkRelayServer" Grid.Column="2" HintText="应以 tcp:// 或 udp:// 开头；若有多个，请使用英文分号分割">
                            <local:MyTextBox.ValidateRules>
                                <local:ValidateNullable />
                                <local:ValidateNullOrWhiteSpace />
                                <local:ValidateLength Max="20" />
                            </local:MyTextBox.ValidateRules>
                        </local:MyTextBox>
                        <TextBlock Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="预设节点"/>
                        <TextBlock x:Name="TextRelays" Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="正在获取..." TextWrapping="WrapWithOverflow"/>
                        <TextBlock Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Left" Text="中继行为"/>
                        <local:MyComboBox x:Name="ComboRelayType" Tag="LinkRelayType" Grid.Row="4" Grid.Column="2">
                            <local:MyComboBoxItem Content="自动决定（推荐）" ToolTip="让 EasyTier 自行决定连接方式，适用于绝大多数用户。&#xa;EasyTier 将会尽可能建立 P2P 连接，仅在 P2P 无法连接时尝试中继。"/>
                            <local:MyComboBoxItem Content="优先通过中继连接" ToolTip="优先通过中继节点建立网络连接。&#xa;不能确保流量经服务器中继，且仅推荐在完全无法连接或极端卡顿的情况下尝试。"/>
                        </local:MyComboBox>
                        <TextBlock Grid.Row="6" VerticalAlignment="Center" HorizontalAlignment="Left" Text="节点行为"/>
                        <local:MyComboBox x:Name="ComboServerType" Tag="LinkServerType" Grid.Row="6" Grid.Column="2">
                            <local:MyComboBoxItem Content="仅自有节点（默认）" ToolTip="仅通过 PCL CE 自有节点通信。&#xa;自有节点由 PCL CE 开发者部署，数据将不会经过第三方。"/>
                            <local:MyComboBoxItem Content="自有节点 + 社区节点" ToolTip="除自有节点外，添加由 PCL CE 挑选的部分 EasyTier 社区提供的节点。&#xa;这些节点由社区志愿者部署，可能可以提供更快的连接速度，但数据将会由其中继。"/>
                            <local:MyComboBoxItem Content="不使用预设节点" ToolTip="不使用任何预设节点。&#xa;虽然 EasyTier 仍会尝试建立 P2P 连接，但你可能必须手动添加一个节点才能使用大厅。"/>
                        </local:MyComboBox>
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="停止使用">
                <StackPanel Margin="25,40,25,15" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="10"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="若要撤回协议授权并停止使用 PCL CE 联机大厅，请点击下面的按钮。&#xa;PCL CE 将会从 Natayark Network 登出，并关闭联机功能。&#xa;&#xa;需要注意，Natayark ID 注销需要前往其用户中心操作。" Grid.Row="0" VerticalAlignment="Stretch" HorizontalAlignment="Left" TextWrapping="Wrap"/>
                        <local:MyButton x:Name="BtnQuit" Text="撤回授权并停止使用" Grid.Row="2" Width="180" Height="30" VerticalAlignment="Center" HorizontalAlignment="Left" ColorType="Red"/>
                    </Grid>
                </StackPanel>
            </local:MyCard>
        </StackPanel>
    </local:MyScrollViewer>
</local:MyPageRight>
